@using PagedList
@using PagedList.Mvc
@model  IPagedList<WebStoreHouse.Models.E_StoreHouseStock_SC>

@{
    ViewBag.Title = "預計出貨";
}

<head>
    <script src="~/Scripts/jquery-3.4.1.min.js"></script>
    <link href="~/Content/bootstrap.css" rel="stylesheet" />
    <link href="~/Content/PagedList.css" rel="stylesheet" />
    <style>
        table {
            border-collapse: collapse;
        }

        th, td {
            text-align: left;
            padding: 8px;
            border: 1px solid black;
            width: auto;
        }

        th {
            white-space: nowrap;
            background-color: #ddd;
        }

        .empty-row {
            background-color: rgba(255, 255, 128, .5);
        }

        @@media print {
            table, th, td {
                border: 1px solid black;
            }
        }
    </style>
</head>
<h2>預計出貨</h2>
<p></p>
@Html.PagedListPager(Model, page => Url.Action("StoreHouseStock_SC", new { page }))
<form action="@Url.Action("ListView")" method="post">
    <table class="table table-bordered">
        <tr>
            <th>出貨日期</th>
            <th>機種</th>
            <th>工單</th>
            <th>業務單號</th>
            <th>客戶工單</th>
            <th>箱數</th>
            <th>預計出貨</th>
            <th>成倉數量</th>
            <th>SAP備註</th>
            <th>出貨方式</th>
            <th>order_item</th>
            <th>公司名稱</th>
            <th>地址</th>
            @if (ViewBag.RoleId != "V")
            {
                <th></th>
            }
        </tr>
            @foreach (var item in Model)
                {
                    <tr class="@((item.sales_order=="N/A") ? "empty-row" : "")">
                        <td style="white-space: nowrap;">@Html.DisplayFor(modelItem => item.exp_shipdate)</td>
                        <td>@Html.DisplayFor(modelItem => item.eng_sr) </td>
                        <td>@Html.DisplayFor(modelItem => item.wono)</td>
                        <td>@Html.DisplayFor(modelItem => item.sales_order)</td>
                        <td>@Html.DisplayFor(modelItem => item.cust_wono)</td>
                        <td>@Html.DisplayFor(modelItem => item.box_quantity)</td>
                        <td>@Html.DisplayFor(modelItem => item.exp_shipquantity)</td>
                        <td>@Html.DisplayFor(modelItem => item.stock_quantity)</td>
                        <td>@Html.DisplayFor(modelItem => item.sap_mark)</td>
                        <td>@Html.DisplayFor(modelItem => item.transportation)</td>
                        <td>@Html.DisplayFor(modelItem => item.order_item)</td>
                        <td>@Html.DisplayFor(modelItem => item.company_name)</td>
                        <td>@Html.DisplayFor(modelItem => item.address)</td>
                        @if (ViewBag.RoleId != "V")
                            {
                                <td style="white-space: nowrap;">
                                    @if (item.sales_order == "N/A")
                                    {//無單號出貨
                                        @Html.ActionLink("編輯 ", "Edit_SCbos", new { sno = item.sno, sales_order = item.sales_order })
                                    }
                                    else
                                    {//正常單號出貨
                                        @Html.ActionLink("編輯 ", "Edit_SC", new { sno = item.sno, sales_order = item.sales_order, ssno = item.sno })
                                    }

                                    @if (@ViewBag.RoleId == "A")
                                    {
                                        @Html.ActionLink("| 刪除", "Delete_SC", new { sno = item.sno })}
                                </td>
                            }
                    </tr>
                }
    </table>
</form>
@Html.PagedListPager(Model, page => Url.Action("StoreHouseStock_SC", new { page }))
<form action="@Url.Action("OrderConfirm")" method="post">
    <div class="form-group">
        <input type="submit" value="出貨確認" class="btn btn-default" />
    </div>
</form>
